<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin - Manage Users</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans p-8">
  <h1 class="text-3xl font-bold mb-6">All Registered Users</h1>

  <p><a href="{{ url_for('admin_logout') }}" class="underline text-red-500">Logout</a></p>
  <p><a href="{{ url_for('admin_purchases') }}" class="underline text-green-400">View Purchase Requests</a></p>

  <table class="min-w-full table-auto border-collapse border border-gray-700 mt-4">
    <thead>
      <tr class="bg-gray-800">
        <th class="border border-gray-600 px-4 py-2">ID</th>
        <th class="border border-gray-600 px-4 py-2">Name</th>
        <th class="border border-gray-600 px-4 py-2">Email</th>
        <th class="border border-gray-600 px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr class="hover:bg-gray-700">
        <td class="border border-gray-600 px-4 py-2">{{ user.id }}</td>
        <td class="border border-gray-600 px-4 py-2">{{ user.name }}</td>
        <td class="border border-gray-600 px-4 py-2">{{ user.email }}</td>
        <td class="border border-gray-600 px-4 py-2">
          <a href="{{ url_for('edit_user', user_id=user.id) }}" class="text-blue-400 hover:underline mr-3">Edit</a>
          <form action="{{ url_for('delete_user', user_id=user.id) }}" method="POST" class="inline" onsubmit="return confirm('Are you sure you want to delete this user?');">
            <button type="submit" class="text-red-500 hover:underline bg-transparent border-0 p-0 cursor-pointer">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
